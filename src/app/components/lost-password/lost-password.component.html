<ion-header>
    <ion-button color="light" (click)="closeModal()">
        <ion-icon color="danger" name="close"></ion-icon>
    </ion-button>
  </ion-header>
  
  <ion-content class="ion-padding">
    
  

    <div class="text-center"> <ion-chip  outline><h4>PASSWORD RESET</h4> </ion-chip></div>

  <!-- manual -->
  <!-- <div class="center"  >

    <ion-card class="ion-padding ion-margin card">
      <form  #manualPay="ngForm" name="password reset" (keydown.enter)="confirmMail.valid && checkMail()" >
        <div *ngIf="loading">
          <ion-progress-bar type="indeterminate"></ion-progress-bar>
        </div>
  
        <ion-item class="ion-margin-bottom" color="light">
          <ion-label color="dark" position="floating">Email</ion-label>
          <ion-input type="email" name="email" clearInput [(ngModel)]="model.email" 
             required="true"></ion-input>
            <ion-icon name="mail" slot="end"></ion-icon>
        </ion-item>
        <div class="myButton md-button " #submitBtn>
          <ion-button (click)="submit(manualPay)" [disabled]="loading"
           type="submit" color="success"> 
           SUBMIT</ion-button>
        </div>

      </form>
  </ion-card>
  </div>
      -->
  <div class="center"> 
  <ion-card color="light" *ngIf="!showOtpSection"  class="center container">
    <form  #confirmMail="ngForm" name="form" (keydown.enter)="confirmMail.valid && checkMail()"
    (submit)="confirmMail.valid && checkMail()">
    <div *ngIf="!showPasswordField">
     
          <div *ngIf="loading"><ion-progress-bar type="indeterminate"></ion-progress-bar></div>
  
           <ion-item class="ion-margin-bottom"  color="medium">
               <ion-label  position="floating">Email</ion-label>
               <ion-input  type="email" #email name="email"  [(ngModel)]="model.userMail"
                    required="true"  ></ion-input>
           </ion-item>
         <div class="myButton md-button "  #submitBtn>
           <button mat-raised-button  [disabled]="loading"   type="submit" color="success" 
           >CONFIRM</button>
       </div>
      </div>
         </form> 
        </ion-card>
      </div>
  
  
        <!--  otp form -->
        <div class="center ">
          <ion-card color="light">
         <form *ngIf="showOtpSection"   #confirmMail="ngForm" name="form"  (submit)="confirmMail.valid && submitOtp()">
          <div class="ion-text-center">check your inbox and enter the OTP</div>
          <ion-item *ngIf="showOtpSection" class="ion-margin-bottom"  color="medium" >
              <ion-label   position="floating">Otp</ion-label>
              <ion-input  type="number" #otp name="otp" clearInput [(ngModel)]="model.otp"
                autocomplete="off"  minlength="11"  required="true"  ></ion-input>
          </ion-item>
  
          <div  class="myButton md-button "  #submitBtn>
            <ion-button mat-raised-button  [disabled]="loading" fill="outline"  type="submit" color="success" 
            >SUBMIT OTP</ion-button>
             resend <ion-button size="small" (click)="checkMail()"><ion-icon slot="end" size="large" name="refresh"></ion-icon></ion-button>
        </div>
         </form>
        </ion-card>
        </div>
        
  
  
        <!-- password form -->
        <div class="center ">
          <ion-card color="light">
            
         
        <form *ngIf="showPasswordField"  #newPassword="ngForm" name="newPassword" (submit)="newPassword.valid && submitNewpassword()">
          <ion-item color="medium">
            <ion-label  position="floating">new password</ion-label>
               <ion-input  type="password" input #mypassword name="password" minlength="6"
               [(ngModel)]="model.password"  required="true">
               </ion-input>
            </ion-item>
  
        <ion-item color="medium">
            <ion-label  position="floating">confirm password</ion-label>
               <ion-input  type="password" input #conf_password name="conf_password" minlength="6"
                required="true">
               </ion-input>
             </ion-item>
             <small *ngIf="mypassword.value !== conf_password.value" class=" text-danger ion-text-center"> password not match</small>
  
      <div class="myButton md-button "  #submitBtn>
        <button mat-raised-button  [disabled]="loading || mypassword.value !== conf_password.value" 
          type="submit" color="success" 
        >submit</button>
    </div>
        </form>
      </ion-card>
      </div>
  
 
  <!-- loader -->
  <div *ngIf="loading" class="spinner-container">
    <div class="loader">
    </div>
  </div>

  </ion-content>
  
